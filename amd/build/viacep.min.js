define("mod_contractactivity/viacep",["exports","jquery"],(function(_exports,_jquery){var obj;Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.default=void 0,_jquery=(obj=_jquery)&&obj.__esModule?obj:{default:obj};var _default={init:async()=>{(0,_jquery.default)(document).ready((()=>{const $cep=(0,_jquery.default)("#id_postal_code"),$address=(0,_jquery.default)("#id_address"),$neighbourhood=(0,_jquery.default)("#id_neighbourhood"),$city=(0,_jquery.default)("#id_city");if(!$cep.length)return;const $overlay=(0,_jquery.default)('\n            <div id="viacep-overlay">\n                <div class="viacep-spinner">\n                    <div class="viacep-loader"></div>\n                    <p>Consultando CEP...</p>\n                </div>\n            </div>\n        ').css({position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.4)",display:"none",justifyContent:"center",alignItems:"center",zIndex:9999});(0,_jquery.default)("head").append("<style>".concat("\n            #viacep-overlay .viacep-spinner {\n                text-align: center;\n                color: white;\n                font-size: 16px;\n                font-family: sans-serif;\n            }\n            #viacep-overlay .viacep-loader {\n                border: 4px solid #f3f3f3;\n                border-top: 4px solid #0073e6;\n                border-radius: 50%;\n                width: 50px;\n                height: 50px;\n                animation: spin 1s linear infinite;\n                margin: 0 auto 10px;\n            }\n            @keyframes spin {\n                0% { transform: rotate(0deg); }\n                100% { transform: rotate(360deg); }\n            }\n        ","</style>")),(0,_jquery.default)("body").append($overlay),$cep.on("blur",(async function(){const cep=(0,_jquery.default)(this).val().replace(/\D/g,"");if(8===cep.length){$overlay.fadeIn(200),$overlay.css({display:"flex",alignItems:"center",justifyContent:"center"});try{const response=await _jquery.default.getJSON("https://viacep.com.br/ws/".concat(cep,"/json/"));if(response.erro)return void alert("CEP n√£o encontrado!");$address.val(response.logradouro||""),$neighbourhood.val(response.bairro||""),$city.val(response.localidade||"")}catch(error){console.error("Erro ao consultar o CEP:",error),alert("Erro ao consultar o CEP.")}finally{$overlay.fadeOut(200)}}}))}))}};return _exports.default=_default,_exports.default}));

//# sourceMappingURL=viacep.min.js.map